'use strict'

var _interopRequireDefault = require('@babel/runtime/helpers/interopRequireDefault')

exports.__esModule = true
exports.default = void 0

var _extends2 = _interopRequireDefault(
  require('@babel/runtime/helpers/extends')
)

var _react = _interopRequireDefault(require('react'))

var _propTypes = _interopRequireDefault(require('prop-types'))

var _object = _interopRequireDefault(require('empty/object'))

var _walk = _interopRequireDefault(require('./walk'))

var _utils = require('./utils')

var _default = (options = _object.default) => {
  let publicPath = options.publicPath

  if (publicPath !== void 0 && publicPath !== null) {
    options.publicPath =
      publicPath.endsWith('/') === false ? `${publicPath}/` : publicPath
  }

  function Emojis(props) {
    props = (0, _extends2.default)({}, props)
    const children = props.children
    delete props.children

    if (options !== _object.default) {
      ;(0, _extends2.default)(props, options)
    }

    return _react.default.Children.count(children)
      ? (0, _walk.default)(children, _utils.toEmojis, props)
      : null
  }

  if (process.env.NODE_ENV !== 'production') {
    Emojis.propTypes =
      /* remove-proptypes*/
      {
        size: _propTypes.default.number,
        hiDpi: _propTypes.default.bool,
        publicPath: _propTypes.default.string,
        extension: _propTypes.default.string,
        render: _propTypes.default.func,
      }
  }

  return Emojis
}

exports.default = _default
