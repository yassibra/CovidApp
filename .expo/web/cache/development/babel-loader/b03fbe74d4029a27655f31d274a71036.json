{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Yassine\\\\Expo\\\\Mypro\\\\Components\\\\Search.js\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { getFilmsFromApiWithSearchedText, getCountry } from \"../API/TMDBApi\";\nimport FilmItem from \"../Components/FilmItem\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\n\nvar Search = function (_React$Component) {\n  _inherits(Search, _React$Component);\n\n  var _super = _createSuper(Search);\n\n  function Search(props) {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _super.call(this, props);\n\n    _this._displayDetailForPays = function (alpha2Code) {\n      _this.props.navigation.navigate(\"PaysDetail\", {\n        alphacode: alpha2Code\n      });\n    };\n\n    _this.state = {\n      films: [],\n      searchedText: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"_loadFilms\",\n    value: function _loadFilms() {\n      var _this2 = this;\n\n      if (this.state.searchedText.length > 0) {\n        getFilmsFromApiWithSearchedText(this.state.searchedText).then(function (data) {\n          _this2.setState({\n            films: data.results\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_loadCountry\",\n    value: function _loadCountry() {\n      var _this3 = this;\n\n      if (this.state.searchedText.length > 0) {\n        getCountry(this.state.searchedText).then(function (data) {\n          _this3.setState({\n            films: data\n          });\n        });\n      }\n    }\n  }, {\n    key: \"_searchTextInputChanged\",\n    value: function _searchTextInputChanged(text) {\n      this.setState({\n        searchedText: text\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, React.createElement(TextInput, {\n        style: [styles.textinput],\n        placeholder: \"Entrez un pays\",\n        onChangeText: function onChangeText(text) {\n          return _this4._searchTextInputChanged(text);\n        },\n        onSubmitEditing: function onSubmitEditing() {\n          return _this4._loadCountry();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 10\n        }\n      }), React.createElement(Button, {\n        title: \"Rechercher\",\n        onPress: function onPress() {\n          _this4._loadCountry();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 5\n        }\n      }), React.createElement(FlatList, {\n        data: this.state.films,\n        keyExtractor: function keyExtractor(item) {\n          return item.name.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return React.createElement(FilmItem, {\n            film: item,\n            displayDetailForPays: _this4._displayDetailForPays,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 35\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 5\n        }\n      }));\n    }\n  }]);\n\n  return Search;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  textinput: {\n    marginLeft: 5,\n    marginRight: 5,\n    height: 50,\n    borderColor: '#00ffff',\n    borderWidth: 1,\n    paddingLeft: 5,\n    color: 'blue'\n  }\n});\nexport default Search;","map":{"version":3,"sources":["C:/Users/Yassine/Expo/Mypro/Components/Search.js"],"names":["React","getFilmsFromApiWithSearchedText","getCountry","FilmItem","Search","props","_displayDetailForPays","alpha2Code","navigation","navigate","alphacode","state","films","searchedText","length","then","data","setState","results","text","styles","textinput","_searchTextInputChanged","_loadCountry","item","name","toString","Component","StyleSheet","create","marginLeft","marginRight","height","borderColor","borderWidth","paddingLeft","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\n// Components/Search.js\r\n\r\nimport { getFilmsFromApiWithSearchedText, getCountry } from '../API/TMDBApi' // import { } from ... car c'est un export nommÃ© dans TMDBApi.js\r\n\r\nimport FilmItem from '../Components/FilmItem'\r\nimport { StyleSheet, View, TextInput, Button, FlatList,Text} from 'react-native'\r\nclass Search extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {films: [], searchedText: \"\"\r\n    \r\n    }\r\n\r\n  }\r\n  _loadFilms() {\r\n    if(this.state.searchedText.length > 0) {   \r\n    getFilmsFromApiWithSearchedText(this.state.searchedText).then(data => {\r\n      // console.log(data);\r\n      // console.log(data.results);\r\n      this.setState({films: data.results})\r\n      \r\n    })\r\n  }\r\n }\r\n _loadCountry(){\r\n   if(this.state.searchedText.length > 0) {\r\n    getCountry(this.state.searchedText).then(data => {\r\n    // console.log(data);\r\n    this.setState({films: data})\r\n    })\r\n  }\r\n }\r\n _displayDetailForPays = (alpha2Code) => {\r\n   this.props.navigation.navigate(\"PaysDetail\", {alphacode: alpha2Code})\r\n  // console.log(\"doit marcher\");\r\n }\r\n _searchTextInputChanged(text){\r\n   this.setState({searchedText: text})\r\n }\r\n    render() {\r\n        return(\r\n      <View>\r\n         <TextInput style= {[styles.textinput]} placeholder='Entrez un pays' \r\n         onChangeText={(text) => this._searchTextInputChanged(text)}\r\n         onSubmitEditing={() => this._loadCountry()}\r\n         />\r\n    <Button  title='Rechercher' onPress={() => {this._loadCountry()}}/>\r\n    <FlatList\r\n          data={this.state.films}\r\n          keyExtractor={(item) => item.name.toString()}\r\n          renderItem={({item}) => <FilmItem film={item} displayDetailForPays={this._displayDetailForPays}/>}\r\n        />\r\n      </View>\r\n    \r\n        )\r\n    }\r\n}\r\nconst styles = StyleSheet.create({\r\n  textinput: {\r\n    marginLeft: 5,\r\n    marginRight: 5,\r\n    height: 50,\r\n    borderColor: '#00ffff',\r\n    borderWidth: 1,\r\n    paddingLeft: 5,\r\n    color: 'blue'\r\n  }\r\n})\r\nexport default Search"]},"metadata":{},"sourceType":"module"}